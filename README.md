Trapped Water Counting Problem
Description
Imagine you have a structure of bars of different heights aligned next to each other. After a rainfall, some of these bars may capture water in the depressions formed between them. We want to calculate how much water is trapped after the rain.
Given an array of integers heights where each integer represents the height of a bar in the structure, calculate how many units of water are trapped.
 
Example
Consider the following array of heights:
heights = [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1]

Inputs and Outputs
Input: An array of integers representing the heights of the bars.
Output: An integer representing the total units of trapped water.